webpackJsonp([1],{"Bi5+":function(e,t){},HqHx:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("//Fk"),i=n.n(r),s=n("7+uW"),a=[["京","晋","吉","闽","桂","藏"],["粤","冀","黑","陕","云","港"],["沪","豫","皖","甘","桂","澳"],["浙","川","鄂","宁","琼"],["苏","渝","湘","蒙","青"],["鲁","辽","赣","津","新"]],o=[["A","G","M","S","Y"],["B","H","N","T","Z"],["C","I","O","U"],["D","J","P","V"],["E","K","Q","W"],["F","L","R","X"]],c=[["0","6","C","J","Q","W"],["1","7","D","K","R","X"],["2","8","E","L","S","Y"],["3","9","F","M","T","Z"],["4","A","G","N","U"],["5","B","H","P","V"]],u=[["0","6","C","J","Q","W","学"],["1","7","D","K","R","X","警"],["2","8","E","L","S","Y"],["3","9","F","M","T","Z"],["4","A","G","N","U","港"],["5","B","H","P","V","澳"]],l={name:"carnokeyboard",props:["inputtype"],computed:{items:function(){return 0==this.inputtype?a:1==this.inputtype?o:2==this.inputtype?c:3==this.inputtype?u:void 0}},methods:{ondelete:function(){this.$emit("delete")},onselect:function(e){this.$emit("select",e)}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"keyboard"},[n("div",{staticClass:"container"},e._l(e.items,function(t,r){return n("div",{staticClass:"line"},[e._l(t,function(t){return n("div",{staticClass:"item",on:{click:function(n){e.onselect(t)}}},[e._v(e._s(t))])}),e._v(" "),r==e.items.length-1?n("div",{staticClass:"delete",on:{click:e.ondelete}},[e._v(" ")]):e._e()],2)}))])},staticRenderFns:[]};var p={components:{Carnokeyboard:n("VU/8")(l,d,!1,function(e){n("y5Io")},"data-v-90980014",null).exports},name:"querycar",data:function(){return{carno:"",enable:!1,begininput:!1,count:7,newresourcecar:!1,inputindex:0,parkCode:window.parkCode,url:location.href,carNo:"",logo:n("kWZM"),show:!1,alert:""}},created:function(){},watch:{carno:function(e){this.enable=e.length>4},newresourcecar:function(e){this.count=this.newresourcecar?8:7}},computed:{inputtype:function(){return 0==this.inputindex?0:1==this.inputindex?1:6==this.inputindex?3:2},btnstyle:function(){return this.enable?"btn enable":"btn disable"}},methods:{getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return r[1]}return!1},getLetter:function(e){return e>=this.carno.length?"":this.carno[e]},doquery:function(){for(var e=this,t=document.getElementsByClassName("chunk"),n=0;n<t.length;n++)this.carNo+=t[n].innerHTML;sessionStorage.setItem("carNo",this.carNo);var r=this.getQueryVariable("clientId"),i={parkCode:this.parkCode,carNo:this.carNo,orderType:"VNP"};this.$axios.post("https://ceshicloud-of.jslife.net/jparking-service/order/carno/pay",i).then(function(t){if(0!=t.data.resultCode)return e.show=!0,e.alert="系统异常",void setTimeout(function(){e.show=!1,e.carNo=""},1e3);if("0"!=t.data.dataItems[0].attributes.retcode)return e.show=!0,e.alert=t.data.dataItems[0].attributes.retmsg,void setTimeout(function(){e.show=!1,e.carNo=""},1e3);var n=t.data.dataItems[0].attributes,i=n.endTime,s=n.startTime,a=n.totalFee,o=n.orderNo;e.$router.push({path:"pay",query:{openId:r,endTime:i,startTime:s,totalFee:a,orderNo:o}})})},doinput:function(){this.begininput||(this.carno="",this.begininput=!0,this.inputindex=0)},deleteletter:function(){this.inputindex=Math.max(0,this.inputindex-1),this.carno=this.carno.substr(0,this.inputindex)},selectletter:function(e){this.carno=this.carno+e,this.inputindex+=1},getchunkstyle:function(e){return this.newresourcecar?0==e&&this.carno.length>=1?"chunk deepgreencolor":"chunk greencolor":0==e&&this.carno.length>=1?"chunk bluecolor":"chunk noe"}},updated:function(){7==this.count&&(""!=document.getElementsByClassName("chunk")[6].innerText&&(this.begininput=!1));8==this.count&&(""!=document.getElementsByClassName("chunk")[7].innerText&&(this.begininput=!1))}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"car"}),e._v(" "),n("div",{staticClass:"inputitem",on:{click:e.doinput}},e._l(e.count,function(t){return n("div",{key:t,class:e.getchunkstyle(t-1)},[e._v(e._s(e.getLetter(t-1)))])})),e._v(" "),n("div",{staticClass:"tip"},[n("div",{staticStyle:{"font-size":"1.4rem"}},[e._v("车辆入场后，可查看停车信息")]),e._v(" "),n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newresourcecar,expression:"newresourcecar"}],attrs:{type:"checkbox",id:"checkbox1"},domProps:{checked:Array.isArray(e.newresourcecar)?e._i(e.newresourcecar,null)>-1:e.newresourcecar},on:{change:function(t){var n=e.newresourcecar,r=t.target,i=!!r.checked;if(Array.isArray(n)){var s=e._i(n,null);r.checked?s<0&&(e.newresourcecar=n.concat([null])):s>-1&&(e.newresourcecar=n.slice(0,s).concat(n.slice(s+1)))}else e.newresourcecar=i}}}),e._v(" "),n("label",{attrs:{for:"checkbox1"}}),e._v("新能源车\n    ")])]),e._v(" "),n("div",{class:e.btnstyle,on:{click:e.doquery}},[e._v("查询车辆")]),e._v(" "),n("carnokeyboard",{directives:[{name:"show",rawName:"v-show",value:e.begininput,expression:"begininput"}],attrs:{inputtype:e.inputtype},on:{select:e.selectletter,delete:e.deleteletter}}),e._v(" "),n("div",{staticClass:"img"},[n("img",{attrs:{src:e.logo,alt:""}})]),e._v(" "),e.show?n("div",{staticClass:"alert"},[n("p",[e._v(e._s(e.alert))])]):e._e()],1)},staticRenderFns:[]};var v=n("VU/8")(p,h,!1,function(e){n("HqHx")},"data-v-90faf456",null).exports,m={name:"open",data:function(){return{}},created:function(){window.location.href=window.openUrl+"?reqSource=WX_JTC&codeType=base&redirectUrl="+window.redirectUrl,window.event&&(window.event.returnValue=!1)}},f={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},_=n("VU/8")(m,f,!1,null,null,null).exports,y={name:"App",components:{CarPay:v,open:_}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var g=n("VU/8")(y,w,!1,function(e){n("nfL4")},null,null).exports,b=n("/ocq"),k=n("mtWM"),C=n.n(k),N=(n("mw3O"),n("mvHQ")),x=n.n(N),T={name:"pay",data:function(){return{callbackUrl:window.callbackUrl,merchantCode:window.merchantCode,parkCode:window.parkCode,jparkingURL:window.jparkingURL,payUrl:window.payUrl,carNo:sessionStorage.getItem("carNo"),endTime:this.$route.query.endTime,startTime:this.$route.query.startTime,days:"",hours:"",minutes:"",totalFee:this.$route.query.totalFee,orderNo:this.$route.query.orderNo,openId:this.$route.query.openId,payData:""}},created:function(){this.time},methods:{dopay:function(){var e={channelId:"WX",orderNo:this.orderNo,appType:"SERVICE",callbackUrl:this.callbackUrl,openId:this.openId,reqSource:"WX_JTC",jparkingURL:this.jparkingURL+"/jparking-service/",grayKey:this.merchantCode+","+this.parkCode+","+this.sub,couponNo:""},t=this.payUrl+"="+x()(e);window.location.href=t}},computed:{time:function(){var e=this.endTime.replace(/-/g,"/"),t=this.startTime.replace(/-/g,"/"),n=new Date(e).getTime()-new Date(t).getTime(),r=parseInt(n/864e5),i=parseInt(n%36e5/6e4),s=parseInt(n%864e5/36e5),a=r>0?r+"天":"",o=s>0?s+"小时":"",c=i>0?i+"分钟":"";return this.days=a,this.hours=o,this.minutes=c},sub:function(){return encodeURI(this.carNo.substring(0,1))+"-"+this.carNo.substring(1)}}},U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pay"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v("确 定 缴 费")]),e._v(" "),n("div",{staticClass:"feeinfo"},[n("div",{staticClass:"feetitle"},[e._v("停车费")]),e._v(" "),n("div",{staticStyle:{"padding-right":"1rem"}},[n("label",{staticClass:"fee"},[e._v(e._s(e.totalFee))]),n("label",{staticClass:"rmb"},[e._v("¥")])])]),e._v(" "),n("div",{staticClass:"section"},[n("p",[n("span",[e._v("车牌号码")]),n("span",[e._v(e._s(e.carNo))])]),e._v(" "),n("p",[n("span",[e._v("入场时间")]),n("span",[e._v(e._s(e.startTime))])]),e._v(" "),n("p",[n("span",[e._v("离场时间")]),n("span",[e._v(e._s(e.endTime))])]),e._v(" "),n("p",[n("span",[e._v("停留时长")]),n("span",[e._v(e._s(e.days)+e._s(e.hours)+e._s(e.minutes))])]),e._v(" "),e._m(0)]),e._v(" "),n("div",{staticClass:"btn",on:{click:e.dopay}},[e._v("立即缴费")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("支付方式")]),t("span",{staticClass:"wx"},[this._v("微信支付")])])}]};var I=n("VU/8")(T,U,!1,function(e){n("Bi5+")},"data-v-327bf427",null).exports;s.a.prototype.$axios=C.a,s.a.use(b.a),C.a.interceptors.request.use(function(e){return e},function(e){return i.a.reject(e)}),C.a.interceptors.response.use(function(e){return e},function(e){return i.a.reject(e)}),s.a.config.productionTip=!1;var $=new b.a({routes:[{path:"/open",component:_},{path:"/",component:v},{path:"/pay",component:I}]});new s.a({router:$,el:"#app",components:{App:g},template:"<App/>"})},kWZM:function(e,t,n){e.exports=n.p+"static/img/LOGO.5eb557f.png"},nfL4:function(e,t){},y5Io:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b35113b0f5ef8943d079.js.map