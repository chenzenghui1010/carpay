webpackJsonp([2],{"E8/m":function(e,t){},Xfo9:function(e,t){},kWZM:function(e,t,n){e.exports=n.p+"static/img/LOGO.5eb557f.png"},wiHL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),r=[["京","晋","吉","闽","桂","藏"],["粤","冀","黑","陕","云","港"],["沪","豫","皖","甘","桂","澳"],["浙","川","鄂","宁","琼"],["苏","渝","湘","蒙","青"],["鲁","辽","赣","津","新"]],s=[["A","G","M","S","Y"],["B","H","N","T","Z"],["C","I","O","U"],["D","J","P","V"],["E","K","Q","W"],["F","L","R","X"]],o=[["0","6","C","J","Q","W"],["1","7","D","K","R","X"],["2","8","E","L","S","Y"],["3","9","F","M","T","Z"],["4","A","G","N","U"],["5","B","H","P","V"]],a=[["0","6","C","J","Q","W","学"],["1","7","D","K","R","X","警"],["2","8","E","L","S","Y"],["3","9","F","M","T","Z"],["4","A","G","N","U","港"],["5","B","H","P","V","澳"]],c={name:"carnokeyboard",props:["inputtype"],computed:{items:function(){return 0==this.inputtype?r:1==this.inputtype?s:2==this.inputtype?o:3==this.inputtype?a:void 0}},methods:{ondelete:function(){this.$emit("delete")},onselect:function(e){this.$emit("select",e)}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"keyboard"},[n("div",{staticClass:"container"},e._l(e.items,function(t,i){return n("div",{staticClass:"line"},[e._l(t,function(t){return n("div",{staticClass:"item",on:{click:function(n){e.onselect(t)}}},[e._v(e._s(t))])}),e._v(" "),i==e.items.length-1?n("div",{staticClass:"delete",on:{click:e.ondelete}},[e._v(" ")]):e._e()],2)}))])},staticRenderFns:[]};var l={components:{Carnokeyboard:n("VU/8")(c,u,!1,function(e){n("E8/m")},"data-v-c0f28e60",null).exports},name:"querycar",data:function(){return{carno:"",enable:!1,begininput:!0,count:7,newresourcecar:!1,inputindex:0,parkCode:window.parkCode,url:location.href,carNo:"",logo:n("kWZM"),show:!1,alert:"",disabled:!0,formData:{phone:"",code:""},timer:null}},created:function(){window.location.href.indexOf("#/open")>=0&&(window.location.href=window.openUrl+"?reqSource=WX_JTC&codeType=base&redirectUrl="+window.redirectUrl),document.getElementById("title").innerText="停车缴费",7==this.count.length&&(this.disabled=!1)},watch:{carno:function(e){this.enable=e.length>6},newresourcecar:function(e){this.count=this.newresourcecar?8:7}},computed:{inputtype:function(){return 0==this.inputindex?0:1==this.inputindex?1:6==this.inputindex?3:2},btnstyle:function(){return this.enable?"btn enable":"btn disable"}},methods:{getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}return!1},getLetter:function(e){return e>=this.carno.length?"":this.carno[e]},doquery:function(){var e=this,t=document.getElementsByClassName("chunk");if(7==this.count){for(var n=0;n<t.length;n++)this.carNo+=t[n].innerHTML;sessionStorage.setItem("carNo",this.carNo.substring(0,7))}if(8==this.count){for(n=0;n<t.length;n++)this.carNo+=t[n].innerHTML;sessionStorage.setItem("carNo",this.carNo.substring(0,8))}var i=this.$route.query.clientId,r={parkCode:this.parkCode,carNo:this.carNo,orderType:"VNP"};this.$axios.post("https://ceshicloud-of.jslife.net/jparking-service/order/carno/pay",r).then(function(t){if(0==t.data.resultCode)if("0"==t.data.dataItems[0].attributes.retcode){var n=t.data.dataItems[0].attributes,r=n.endTime,s=n.startTime,o=n.totalFee,a=n.orderNo;e.$router.push({path:"pay",query:{openId:i,endTime:r,startTime:s,totalFee:o,orderNo:a}})}else e.alert=t.data.dataItems[0].attributes.retmsg,e.show=!0,setTimeout(function(){e.show=!1,e.carNo=""},1e3);else 1==t.data.resultCode&&(e.alert="系统错误",e.show=!0,setTimeout(function(){e.show=!1,e.carNo=""},1e3))})},doinput:function(){this.begininput||(this.carno="",this.begininput=!0,this.inputindex=0)},deleteletter:function(){this.inputindex=Math.max(0,this.inputindex-1),this.carno=this.carno.substr(0,this.inputindex)},selectletter:function(e){this.carno=this.carno+e,this.inputindex+=1},getchunkstyle:function(e){return this.newresourcecar?0==e&&this.carno.length>=1?"chunk deepgreencolor":"chunk greencolor":0==e&&this.carno.length>=1?"chunk bluecolor":"chunk noe"},getCode:function(e){var t=this;this.timer||(this.count=TIME_COUNT,this.show=!1,this.timer=setInterval(function(){t.count>0&&t.count<=TIME_COUNT?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3))}},updated:function(){7==this.count&&(""!=document.getElementsByClassName("chunk")[6].innerText&&(this.disabled=!1));8==this.count&&(""!=document.getElementsByClassName("chunk")[7].innerText&&(this.disabled=!1))}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"car"}),e._v(" "),n("div",{staticClass:"inputitem",on:{click:e.doinput}},e._l(e.count,function(t){return n("div",{key:t,class:e.getchunkstyle(t-1)},[e._v(e._s(e.getLetter(t-1)))])})),e._v(" "),n("div",{staticClass:"tip"},[n("div",{staticStyle:{"font-size":"1.4rem"}},[e._v("会员优惠时间：")]),e._v(" "),n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newresourcecar,expression:"newresourcecar"}],attrs:{type:"checkbox",id:"checkbox1"},domProps:{checked:Array.isArray(e.newresourcecar)?e._i(e.newresourcecar,null)>-1:e.newresourcecar},on:{change:function(t){var n=e.newresourcecar,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.newresourcecar=n.concat([null])):s>-1&&(e.newresourcecar=n.slice(0,s).concat(n.slice(s+1)))}else e.newresourcecar=r}}}),e._v(" "),n("label",{attrs:{for:"checkbox1"}}),e._v("新能源车\n    ")])]),e._v(" "),e._m(0),e._v(" "),n("button",{class:e.btnstyle,attrs:{disabled:e.disabled},on:{click:e.doquery}},[e._v("去缴费")]),e._v(" "),n("carnokeyboard",{directives:[{name:"show",rawName:"v-show",value:e.begininput,expression:"begininput"}],attrs:{inputtype:e.inputtype},on:{select:e.selectletter,delete:e.deleteletter}}),e._v(" "),n("div",{staticClass:"img"},[n("img",{attrs:{src:e.logo,alt:""}})]),e._v(" "),e.show?n("div",{staticClass:"alert"},[n("p",[e._v(e._s(e.alert))])]):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vip"},[t("div",{staticStyle:{"font-size":"1.4rem"}},[this._v("10:00-22:00 周日到周四")]),this._v(" "),t("div",{staticStyle:{"font-size":"1.4rem"}},[this._v("10:00-22:30 周五到周六")])])}]};var h=n("VU/8")(l,d,!1,function(e){n("Xfo9")},"data-v-40041708",null).exports,p=n("mtWM"),m=n.n(p);i.a.prototype.$axios=m.a,i.a.config.productionTip=!1,new i.a({el:"#app",components:{CarPay:h},template:"<CarPay/>"})}},["wiHL"]);
//# sourceMappingURL=carpay.2d8e441e0382f7904f88.js.map