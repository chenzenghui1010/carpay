webpackJsonp([2],{B71v:function(t,e){},kWZM:function(t,e,n){t.exports=n.p+"static/img/LOGO.5eb557f.png"},ld6H:function(t,e){},wiHL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=[["京","晋","吉","闽","桂","藏"],["粤","冀","黑","陕","云","港"],["沪","豫","皖","甘","桂","澳"],["浙","川","鄂","宁","琼"],["苏","渝","湘","蒙","青"],["鲁","辽","赣","津","新"]],r=[["A","G","M","S","Y"],["B","H","N","T","Z"],["C","I","O","U"],["D","J","P","V"],["E","K","Q","W"],["F","L","R","X"]],a=[["0","6","C","J","Q","W"],["1","7","D","K","R","X"],["2","8","E","L","S","Y"],["3","9","F","M","T","Z"],["4","A","G","N","U"],["5","B","H","P","V"]],o=[["0","6","C","J","Q","W","学"],["1","7","D","K","R","X","警"],["2","8","E","L","S","Y"],["3","9","F","M","T","Z"],["4","A","G","N","U","港"],["5","B","H","P","V","澳"]],c={name:"carnokeyboard",props:["inputtype"],computed:{items:function(){return 0==this.inputtype?s:1==this.inputtype?r:2==this.inputtype?a:3==this.inputtype?o:void 0}},methods:{ondelete:function(){this.$emit("delete")},onselect:function(t){this.$emit("select",t)}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keyboard"},[n("div",{staticClass:"container"},t._l(t.items,function(e,i){return n("div",{staticClass:"line"},[t._l(e,function(e){return n("div",{staticClass:"item",on:{click:function(n){t.onselect(e)}}},[t._v(t._s(e))])}),t._v(" "),i==t.items.length-1?n("div",{staticClass:"delete",on:{click:t.ondelete}},[t._v(" ")]):t._e()],2)}))])},staticRenderFns:[]};var l={components:{Carnokeyboard:n("VU/8")(c,u,!1,function(t){n("B71v")},"data-v-90980014",null).exports},name:"querycar",data:function(){return{carno:"",enable:!1,begininput:!0,count:7,newresourcecar:!1,inputindex:0,parkCode:window.parkCode,url:location.href,carNo:"",logo:n("kWZM"),show:!1,alert:"",disabled:!0,formData:{phone:"",code:""},timer:null}},created:function(){document.title="停车缴费",7==this.count.length&&(this.disabled=!1)},watch:{carno:function(t){this.enable=t.length>6},newresourcecar:function(t){this.count=this.newresourcecar?8:7}},computed:{inputtype:function(){return 0==this.inputindex?0:1==this.inputindex?1:6==this.inputindex?3:2},btnstyle:function(){return this.enable?"btn enable":"btn disable"}},methods:{getLetter:function(t){return t>=this.carno.length?"":this.carno[t]},doquery:function(){var t=this,e=document.getElementsByClassName("chunk");if(7==this.count){for(var n=0;n<e.length;n++)this.carNo+=e[n].innerHTML;sessionStorage.setItem("carNo",this.carNo.substring(0,7))}if(8==this.count){for(n=0;n<e.length;n++)this.carNo+=e[n].innerHTML;sessionStorage.setItem("carNo",this.carNo.substring(0,8))}var i=this.$route.query.clientId,s={parkCode:this.parkCode,carNo:this.carNo,orderType:"VNP"};this.$axios.post("https://ceshicloud-of.jslife.net/jparking-service/order/carno/pay",s).then(function(e){if(0==e.data.resultCode)if("0"==e.data.dataItems[0].attributes.retcode){var n=e.data.dataItems[0].attributes,s=n.endTime,r=n.startTime,a=n.totalFee,o=n.orderNo;t.$router.push({path:"pay",query:{openId:i,endTime:s,startTime:r,totalFee:a,orderNo:o}})}else t.alert=e.data.dataItems[0].attributes.retmsg,t.show=!0,setTimeout(function(){t.show=!1,t.carNo=""},1e3);else 1==e.data.resultCode&&(t.alert="系统错误",t.show=!0,setTimeout(function(){t.show=!1,t.carNo=""},1e3))})},doinput:function(){this.begininput||(this.carno="",this.begininput=!0,this.inputindex=0)},deleteletter:function(){this.inputindex=Math.max(0,this.inputindex-1),this.carno=this.carno.substr(0,this.inputindex)},selectletter:function(t){this.carno=this.carno+t,this.inputindex+=1},getchunkstyle:function(t){return this.newresourcecar?0==t&&this.carno.length>=1?"chunk deepgreencolor":"chunk greencolor":0==t&&this.carno.length>=1?"chunk bluecolor":"chunk noe"},getCode:function(t){var e=this;this.timer||(this.count=TIME_COUNT,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=TIME_COUNT?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)},1e3))}},updated:function(){7==this.count&&(""!=document.getElementsByClassName("chunk")[6].innerText&&(this.disabled=!1));8==this.count&&(""!=document.getElementsByClassName("chunk")[7].innerText&&(this.disabled=!1))}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"car"}),t._v(" "),n("div",{staticClass:"inputitem",on:{click:t.doinput}},t._l(t.count,function(e){return n("div",{key:e,class:t.getchunkstyle(e-1)},[t._v(t._s(t.getLetter(e-1)))])})),t._v(" "),n("div",{staticClass:"tip"},[n("div",{staticStyle:{"font-size":"1.4rem"}},[t._v("会员优惠时间：")]),t._v(" "),n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newresourcecar,expression:"newresourcecar"}],attrs:{type:"checkbox",id:"checkbox1"},domProps:{checked:Array.isArray(t.newresourcecar)?t._i(t.newresourcecar,null)>-1:t.newresourcecar},on:{change:function(e){var n=t.newresourcecar,i=e.target,s=!!i.checked;if(Array.isArray(n)){var r=t._i(n,null);i.checked?r<0&&(t.newresourcecar=n.concat([null])):r>-1&&(t.newresourcecar=n.slice(0,r).concat(n.slice(r+1)))}else t.newresourcecar=s}}}),t._v(" "),n("label",{attrs:{for:"checkbox1"}}),t._v("新能源车\n    ")])]),t._v(" "),t._m(0),t._v(" "),n("button",{class:t.btnstyle,attrs:{disabled:t.disabled},on:{click:t.doquery}},[t._v("去缴费")]),t._v(" "),n("carnokeyboard",{directives:[{name:"show",rawName:"v-show",value:t.begininput,expression:"begininput"}],attrs:{inputtype:t.inputtype},on:{select:t.selectletter,delete:t.deleteletter}}),t._v(" "),n("div",{staticClass:"img"},[n("img",{attrs:{src:t.logo,alt:""}})]),t._v(" "),t.show?n("div",{staticClass:"alert"},[n("p",[t._v(t._s(t.alert))])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vip"},[e("div",{staticStyle:{"font-size":"1.4rem"}},[this._v("10:00-22:00 周日到周四")]),this._v(" "),e("div",{staticStyle:{"font-size":"1.4rem"}},[this._v("10:00-22:30 周五到周六")])])}]};var h=n("VU/8")(l,d,!1,function(t){n("ld6H")},"data-v-1052177e",null).exports,p=n("mtWM"),v=n.n(p);i.a.prototype.$axios=v.a,i.a.config.productionTip=!1,new i.a({el:"#app",components:{CarPay:h},template:"<CarPay/>"})}},["wiHL"]);
//# sourceMappingURL=carpay.4d6069002cd4861ddf18.js.map